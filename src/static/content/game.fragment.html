<div class="configuration noselect">
    <h2>
        rubbrl4zr
    </h2>

    <div>
        <div id="previewWrapper">
            <canvas id="preview" height="400"></canvas>
        </div>
    </div>

    <div style="float: right">50 %</div>
    <label for="amplitude">Amplitude</label>
    <input id="amplitude" type="range" min="0" max="100" step="5" />

    <div style="float: right">50 %</div>
    <label for="phase">Phase</label>
    <input id="phase" type="range" min="0" max="100" step="5" />

    <div style="float: right"><span id="current_rotation">0</span> °</div>
    <label for="rotation">Rotation</label>
    <input id="rotation" type="range" min="0" max="360" step="18" />

    <div class="ready-box">
        <div class="playerlamp on"></div>
        <div class="playerlamp on"></div>
        <div class="playerlamp"></div>
        <div class="playerlamp"></div>
        <button id="rdy-btn"></button>
        <!-- 29s
        <br />
        <span>0/4 Players are ready</span> -->
    </div>
</div>

<canvas id="game">
    Gamefield should be here
</canvas>


<script src="/static/PreviewSinus.js"></script>
<script src="/static/Player.js"></script>
<script src="/static/Renderable.js"></script>
<script src="/static/SinusLaser.js"></script>
<script src="/static/index.js"></script>

<script type="application/javascript">
const drawPreview = ()=> {
    let height = 200;
    let width = 400;
    let xAxis = 0;
    let yAxis = Math.floor(width/4);
    let canvas = document.getElementById("preview");
    let preview = new PreviewSinus({canvas,height,width,xAxis,yAxis});


}

let Player1 = new Player(42, "Carsten", new Renderable("/static/img/ship-red.png", new Vector(0,0),45),"#FF0000");
let Player2 = new Player(43, "Ötchen", new Renderable("/static/img/ship-blue.png", new Vector(700,0),135),"#0088FF");

var game = new Game(document.getElementById("game"), document.getElementById('preview'), []);
game.addPlayer(Player1);
game.addPlayer(Player2);
game.run();
lib.loopMusic("/static/snd/music01.mp3");

document.getElementById('amplitude').addEventListener('input', function(e) {
    let laser = game.createPreviewLaser(null, e.target.value);
    game._previewLaser = laser;
});

document.getElementById('rotation').addEventListener('input', function (e) {
    document.getElementById('current_rotation').innerHTML = e.target.value;
    game._players[0].renderable._degree = e.target.value;
});
</script>
